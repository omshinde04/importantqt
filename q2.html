<!DOCTYPE html>
<html>
<head>
<title>Image Layout Switcher</title>

<style>
body {
    font-family: "Segoe UI", Arial;
    background: linear-gradient(135deg,#141e30,#243b55);
    color: white;
    padding: 30px;
    text-align: center;
}

h2 {
    margin-bottom: 20px;
    font-size: 28px;
}

button {
    padding: 10px 18px;
    border: none;
    border-radius: 6px;
    font-weight: 600;
    cursor: pointer;
    margin: 6px;
}

.layout-btn { background: #5c6bc0; color:white; }

.control-btn { background: #26a69a; color: white; }

.reset { background:#e53935; color:white; }

.grid {
    display: none;
    gap: 14px;
    margin-top: 25px;
    justify-content: center;
}

.grid img {
    width: 100%;
    height: 160px;
    object-fit: cover;
    border-radius: 12px;
    border: 2px solid #fff;
}

.one  { grid-template-columns:1fr; max-width:260px; margin:auto; }
.two  { grid-template-columns:repeat(2,1fr); max-width:530px; margin:auto; }
.four { grid-template-columns:repeat(2,1fr); max-width:530px; margin:auto; }

@media(max-width:600px) {
    .two,.four { grid-template-columns:1fr; max-width:300px; }
    h2 { font-size:22px; }
}
</style>
</head>

<body>

<h2>Image Layout System</h2>

<!-- Layout Buttons -->
<button class="layout-btn" onclick="showLayout(1,this)">1 x 1</button>
<button class="layout-btn" onclick="showLayout(2,this)">1 x 2</button>
<button class="layout-btn" onclick="showLayout(4,this)">2 x 2</button>

<br><br>

<!-- Controls -->
<button class="control-btn" onclick="goNext()">GO</button>
<button class="reset" onclick="resetAll()">RESET</button>

<!-- Layout Containers -->

<div id="layout1" class="grid one">
    <img>
</div>

<div id="layout2" class="grid two">
    <img><img>
</div>

<div id="layout4" class="grid four">
    <img><img><img><img>
</div>

<script>
// Image Array (1.jpeg → 27.jpeg except 4.jpeg)
const images = [];
for (let i = 1; i <= 27; i++) {
    if (i !== 4) images.push("images/" + i + ".jpeg");
}

let currentLayout = 1;
let goIndex = 1;

const layouts = {
    1: document.getElementById("layout1"),
    2: document.getElementById("layout2"),
    4: document.getElementById("layout4")
};

function showLayout(n, btn) {
    currentLayout = n;
    goIndex = 1;

    Object.values(layouts).forEach(l => l.style.display = "none");
    layouts[n].style.display = "grid";

    document.querySelectorAll(".layout-btn").forEach(b => b.classList.remove("active"));
    btn.classList.add("active");

    resetAll();
}

// ✅ GO: change ALL images in current layout
function goNext() {
    let imgs = layouts[currentLayout].querySelectorAll("img");

    for (let i = 0; i < imgs.length; i++) {
        imgs[i].src = images[goIndex % images.length];
        goIndex++;
    }
}

function resetAll() {
    let imgs = layouts[currentLayout].querySelectorAll("img");
    imgs.forEach(img => img.src = images[0]);
    goIndex = 1;
}

// Default view
showLayout(1, document.querySelector(".layout-btn"));

// Initial load (all imgs = first image)
document.querySelectorAll("img").forEach(img => img.src = images[0]);
</script>

</body>
</html>
